<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Inauguration du MiN Nantes Métropole</title>
	<meta property="og:title" content="Inauguration du MiN, allons-y autrement!">
	<meta property="og:description" content="Cliquez-ici pour accéder au plan d'accès. Venez à l'innauguration s'engagent pour le territoire et le climat sans polluer.">
	<meta property="og:url" content="https://corentinlemaitre.github.io/eco-evenement/2018/rencontre_annuelle/open_graph.gif">
	<meta property="og:type" content="website">
	<meta property="og:locale" content="fr_FR">
	<meta property="og:image" content="https://corentinlemaitre.github.io/eco-evenement/2019/MiN_de_Nantes/open_graph.gif">
	<meta property="og:site_name" content="Reeve">
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.css' rel='stylesheet' />
    <style>
      body { margin:0; padding:0; }
      #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
  </head>
  <body>

    <style>
      /* STYLE la zone au-dessus de la carte sa police et son texte */
      .map-overlay-container {
        position: absolute;
        top: 0px;
        center: 0;
        padding: 20px;
        z-index: 0;
      }
      .map-overlay {
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
        background-color: #fff;
        border-radius: 3px;
        padding: 10px;
        box-shadow:0 1px 2px rgba(0,0,0,0.20);
      }
    .map-overlay h2,
    .map-overlay p {
        margin: 0 0 10px;
      }
	.mapboxgl-popup {
        max-width: 150px;
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
		text-align: center;
		top: -15px;
    }
	.mapboxgl-popup-close-button {
	display: none;
	}


.overlay {
position: absolute;
top: 10px;
left: 10px;
}
 
.overlay button {
font:600 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
background-color: #3386c0;
color: #fff;
display: inline-block;
margin: 0;
padding: 10px 20px;
border: none;
cursor: pointer;
border-radius: 3px;
}
 
.overlay button:hover {
background-color:#4ea0da;
}
</style>
<script src='https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v2.0.0/turf.min.js' charset='utf-8'></script>

    <div id='map'></div>
<div class='overlay'>
<button id='replay'>Replay</button>
</div>
   

    <script>
      /* 
TODO :
*/
mapboxgl.accessToken = 'pk.eyJ1IjoiY29yZW50aW5sZW1haXRyZSIsImEiOiJjajQ0OGxmZ2sxNTVkMnFwbjI2M3RsMTc5In0.35Ah1wy069n6jeaniWxMWg';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v10',
    center: [-1.55294, 47.15864], // 15.5/47.207363/-1.559553
    zoom: 12,
    hash: 1,
    pitch: 0//pour avoir une vision avec un angle
});

var zoomtrigger = 14; 
map.on('load', function (){
    map.loadImage('img/bus.png', function(error, image) {
        if (error) throw error;
        map.addImage('bus', image);
	});
    map.loadImage('img/bicycle_park.png', function(error, image) {
        if (error) throw error;
        map.addImage('bicycle', image);
	});
    map.loadImage('img/bicloo.png', function(error, image) {
        if (error) throw error;
        map.addImage('bicloo', image);
	});
    map.loadImage('img/car_park.png', function(error, image) {
        if (error) throw error;
        map.addImage('car', image);

	});
    map.loadImage('img/logo_event_small.png', function(error, image) {
        if (error) throw error;
        map.addImage('circle', image);
	});
    map.loadImage('', function(error, image) {
        if (error) throw error;
        map.addImage('logo_event', image);
        map.addLayer({
            "id": "logo",
            "type": "symbol",
            "source": {
                "type": "geojson",
                "data": {
                    "type": "FeatureCollection",
                    "features": [{
                        "type": "Feature",
                        "geometry": {
                            "type": "Point",
                            "coordinates": [-1.555181, 47.157465]
                        }
                    }]
                }
            },
            "layout": {
                "icon-image": "logo_event",
				"icon-size": 0.5 // seems to be 0.5 for 50 percent
            },
			"paint": {
				"icon-opacity": {
					"base": 1,
					"stops": [[13, 1], [15, 0]]
				}
			}

		});
	});



    map.addLayer({
        'id': 'itineraires',
        'type': 'line',
        'source': {
			'type': 'geojson',
            'data': 'geo/event.geojson',
        },
        'minzoom' : 8, // ne peut pas varier à partir d'une propriété car la couche n'est pas encore lue
        "layout": {
            "line-join": "round",
            "line-cap": "round"
        },
        "paint": { // Au niveau de zoom 14 ca correspond à 6 pixel et 3 au zoom 12
            "line-color": ['get', 'stroke'],// peut aussi récupérer des couleurs nommées comme 'red' et aussi sur geojson.io
            "line-width": {
				"property": 'stroke-width',// identifie la clé qui est analysé dans le fichier pour chercher la valeure.
				"base": 1.5,
				"stops": [
					[{zoom: 10, value: 1}, 0.25],
					[{zoom: 10, value: 10}, 2.5],
					[{zoom: 18, value: 1}, 5],
					[{zoom: 18, value: 10}, 50]
					]
			},
			"line-opacity": {
				"base": 1,
				"stops": [[9, 0], [11, 1]]
			}
        }


          // This is the important part of this example: the addLayer
          // method takes 2 arguments: the layer as an object, and a string
          // representing another layer's name. if the other layer
          // exists in the stylesheet already, the new layer will be positioned
          // right before that layer in the stack, making it possible to put
          // 'overlays' anywhere in the layer stack.
    }, "road-label-large");
	


map.addLayer({
        "id": "points",
        "type": "symbol",
        "source": {
            "type": "geojson",
            "data": "geo/event.geojson",
        },
        "minzoom": 14,
        "layout": {
            "icon-image": "{marker-symbol}",
            "icon-allow-overlap": true,
            "icon-size": {
                    "base": 1,
                    "stops": [[15, 0.26], [18, 1]]
                }
        },
        "paint": {
            "icon-opacity": {
                "base": 1,
                "stops": [[14, 0], [16, 1]]
            }
        }
    });

map.addLayer({
'id': 'polygones',
'type': 'fill',
'source': {
            'type': 'geojson',
            'data': 'geo/surfaces.geojson',
  },
"minzoom": 14,
'layout': {},
'paint': {
'fill-color': ['get', 'fill'],
'fill-opacity': ['get', 'fill-opacity'],
'fill-outline-color' : ['get', 'fill-stroke'],
'fill-opacity' : ['get', 'fill-opacity'],
     
 }
        });
    });


    map.on('click', 'points', function (e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.name;



        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }

        new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML(e.features[0].properties.name)
            .addTo(map);

    });


    // Change the cursor to a pointer when the mouse is over the points layer.
    map.on('mouseenter', 'points', function () {
        map.getCanvas().style.cursor = 'pointer';
    });

    // Change it back to a pointer when it leaves.
    map.on('mouseleave', 'points', function () {
        map.getCanvas().style.cursor = '';
    }); 

map.on('click', 'points', function (e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.name;



        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }

        new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML(e.features[0].properties.name)
            .addTo(map);

    });


    map.on('click', 'polygones', function (e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.name;



        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }

        new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML(e.features[0].properties.name)
            .addTo(map);

    });


    // Change the cursor to a pointer when the mouse is over the points layer.
    map.on('mouseenter', 'polygones', function () {
        map.getCanvas().style.cursor = 'pointer';
    });

    // Change it back to a pointer when it leaves.
    map.on('mouseleave', 'polygones', function () {
        map.getCanvas().style.cursor = '';
    }); 

map.on('click', 'polygones', function (e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.name;



        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }

        new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML(e.features[0].properties.name)
            .addTo(map);



    });

    map.on('click', 'itineraires', function (e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.name;



        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }

        new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML(e.features[0].properties.name)
            .addTo(map);

    });


    // Change the cursor to a pointer when the mouse is over the points layer.
    map.on('mouseenter', 'itineraires', function () {
        map.getCanvas().style.cursor = 'pointer';
    });

    // Change it back to a pointer when it leaves.
    map.on('mouseleave', 'itineraires', function () {
        map.getCanvas().style.cursor = '';
    }); 

map.on('click', 'itineraires', function (e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.name;



        // Ensure that if the map is zoomed out such that multiple
        // copies of the feature are visible, the popup appears
        // over the copy being pointed to.
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
            coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }

        new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML(e.features[0].properties.name)
            .addTo(map);

    });

// Coueron
var origin = [-1.72859100000, 47.20927100000];
 
// Chantiers Navals
var destination = [-1.56779800000, 47.20870300000]; 
                        



// A simple line from origin to destination.
var route = {
"type": "FeatureCollection",
"features": [{
"type": "Feature",
"geometry": {
"type": "LineString",
"coordinates": [
origin,
[
                        -1.72802600000,
                        47.20909800000
                    ],
                    [
                        -1.72800700000,
                        47.20908100000
                    ],
                    [
                        -1.72798100000,
                        47.20906800000
                    ],
                    [
                        -1.72795200000,
                        47.20906000000
                    ],
                    [
                        -1.72792000000,
                        47.20905700000
                    ],
                    [
                        -1.72788900000,
                        47.20906000000
                    ],
                    [
                        -1.72786000000,
                        47.20906900000
                    ],
                    [
                        -1.72783500000,
                        47.20908200000
                    ],
                    [
                        -1.72767600000,
                        47.20909400000
                    ],
                    [
                        -1.72723700000,
                        47.20906700000
                    ],
                    [
                        -1.72707000000,
                        47.20904200000
                    ],
                    [
                        -1.72696200000,
                        47.20904000000
                    ],
                    [
                        -1.72674200000,
                        47.20904400000
                    ],
                    [
                        -1.72554600000,
                        47.20897600000
                    ],
                    [
                        -1.72543000000,
                        47.20896600000
                    ],
                    [
                        -1.72526300000,
                        47.20894000000
                    ],
                    [
                        -1.72516700000,
                        47.20894200000
                    ],
                    [
                        -1.72515500000,
                        47.20892900000
                    ],
                    [
                        -1.72513900000,
                        47.20891900000
                    ],
                    [
                        -1.72512000000,
                        47.20891100000
                    ],
                    [
                        -1.72509800000,
                        47.20890700000
                    ],
                    [
                        -1.72507600000,
                        47.20890600000
                    ],
                    [
                        -1.72505400000,
                        47.20890900000
                    ],
                    [
                        -1.72503400000,
                        47.20891500000
                    ],
                    [
                        -1.72501600000,
                        47.20892400000
                    ],
                    [
                        -1.72500300000,
                        47.20893600000
                    ],
                    [
                        -1.72499300000,
                        47.20895000000
                    ],
                    [
                        -1.72492300000,
                        47.20893300000
                    ],
                    [
                        -1.72490300000,
                        47.20889100000
                    ],
                    [
                        -1.72488100000,
                        47.20887300000
                    ],
                    [
                        -1.72484200000,
                        47.20886400000
                    ],
                    [
                        -1.72444300000,
                        47.20882600000
                    ],
                    [
                        -1.72393200000,
                        47.20878000000
                    ],
                    [
                        -1.72343500000,
                        47.20873400000
                    ],
                    [
                        -1.72309900000,
                        47.20870400000
                    ],
                    [
                        -1.72274400000,
                        47.20867500000
                    ],
                    [
                        -1.72238600000,
                        47.20864300000
                    ],
                    [
                        -1.72189600000,
                        47.20860500000
                    ],
                    [
                        -1.72160000000,
                        47.20858800000
                    ],
                    [
                        -1.72133200000,
                        47.20857400000
                    ],
                    [
                        -1.72090900000,
                        47.20855900000
                    ],
                    [
                        -1.72037200000,
                        47.20854300000
                    ],
                    [
                        -1.72010000000,
                        47.20853700000
                    ],
                    [
                        -1.71993800000,
                        47.20852900000
                    ],
                    [
                        -1.71940900000,
                        47.20852000000
                    ],
                    [
                        -1.71887800000,
                        47.20850500000
                    ],
                    [
                        -1.71837200000,
                        47.20848100000
                    ],
                    [
                        -1.71794700000,
                        47.20846200000
                    ],
                    [
                        -1.71747900000,
                        47.20843300000
                    ],
                    [
                        -1.71686600000,
                        47.20841600000
                    ],
                    [
                        -1.71624600000,
                        47.20838200000
                    ],
                    [
                        -1.71619000000,
                        47.20838000000
                    ],
                    [
                        -1.71616500000,
                        47.20837900000
                    ],
                    [
                        -1.71565900000,
                        47.20835900000
                    ],
                    [
                        -1.71562300000,
                        47.20835800000
                    ],
                    [
                        -1.71557300000,
                        47.20835500000
                    ],
                    [
                        -1.71545400000,
                        47.20836100000
                    ],
                    [
                        -1.71533800000,
                        47.20838600000
                    ],
                    [
                        -1.71522100000,
                        47.20838700000
                    ],
                    [
                        -1.71506600000,
                        47.20838400000
                    ],
                    [
                        -1.71482700000,
                        47.20837400000
                    ],
                    [
                        -1.71463700000,
                        47.20836000000
                    ],
                    [
                        -1.71449000000,
                        47.20835700000
                    ],
                    [
                        -1.71438100000,
                        47.20835200000
                    ],
                    [
                        -1.71426500000,
                        47.20834700000
                    ],
                    [
                        -1.71416300000,
                        47.20833900000
                    ],
                    [
                        -1.71407100000,
                        47.20832500000
                    ],
                    [
                        -1.71399800000,
                        47.20831100000
                    ],
                    [
                        -1.71390100000,
                        47.20830300000
                    ],
                    [
                        -1.71377700000,
                        47.20830500000
                    ],
                    [
                        -1.71366500000,
                        47.20831300000
                    ],
                    [
                        -1.71360600000,
                        47.20832100000
                    ],
                    [
                        -1.71352200000,
                        47.20834500000
                    ],
                    [
                        -1.71347000000,
                        47.20836600000
                    ],
                    [
                        -1.71343600000,
                        47.20839400000
                    ],
                    [
                        -1.71341200000,
                        47.20841500000
                    ],
                    [
                        -1.71338200000,
                        47.20842700000
                    ],
                    [
                        -1.71333500000,
                        47.20844100000
                    ],
                    [
                        -1.71326000000,
                        47.20846900000
                    ],
                    [
                        -1.71319100000,
                        47.20849900000
                    ],
                    [
                        -1.71313700000,
                        47.20853400000
                    ],
                    [
                        -1.71311100000,
                        47.20855500000
                    ],
                    [
                        -1.71306000000,
                        47.20860200000
                    ],
                    [
                        -1.71301300000,
                        47.20864700000
                    ],
                    [
                        -1.71296400000,
                        47.20870800000
                    ],
                    [
                        -1.71293400000,
                        47.20875200000
                    ],
                    [
                        -1.71288100000,
                        47.20880100000
                    ],
                    [
                        -1.71284000000,
                        47.20882700000
                    ],
                    [
                        -1.71281700000,
                        47.20885200000
                    ],
                    [
                        -1.71276400000,
                        47.20893900000
                    ],
                    [
                        -1.71273100000,
                        47.20902700000
                    ],
                    [
                        -1.71269700000,
                        47.20911300000
                    ],
                    [
                        -1.71265800000,
                        47.20918200000
                    ],
                    [
                        -1.71262200000,
                        47.20925700000
                    ],
                    [
                        -1.71256100000,
                        47.20934900000
                    ],
                    [
                        -1.71250900000,
                        47.20942100000
                    ],
                    [
                        -1.71245900000,
                        47.20949200000
                    ],
                    [
                        -1.71240000000,
                        47.20955600000
                    ],
                    [
                        -1.71233600000,
                        47.20962400000
                    ],
                    [
                        -1.71226900000,
                        47.20968700000
                    ],
                    [
                        -1.71221800000,
                        47.20973000000
                    ],
                    [
                        -1.71215800000,
                        47.20977200000
                    ],
                    [
                        -1.71210100000,
                        47.20981500000
                    ],
                    [
                        -1.71201600000,
                        47.20986600000
                    ],
                    [
                        -1.71197900000,
                        47.20989200000
                    ],
                    [
                        -1.71193000000,
                        47.20992000000
                    ],
                    [
                        -1.71187100000,
                        47.20994800000
                    ],
                    [
                        -1.71180500000,
                        47.20998200000
                    ],
                    [
                        -1.71170400000,
                        47.21002300000
                    ],
                    [
                        -1.71161600000,
                        47.21005700000
                    ],
                    [
                        -1.71151800000,
                        47.21009100000
                    ],
                    [
                        -1.71141100000,
                        47.21012400000
                    ],
                    [
                        -1.71134400000,
                        47.21014600000
                    ],
                    [
                        -1.71126700000,
                        47.21016000000
                    ],
                    [
                        -1.71117900000,
                        47.21016800000
                    ],
                    [
                        -1.71110400000,
                        47.21017000000
                    ],
                    [
                        -1.71105600000,
                        47.21017400000
                    ],
                    [
                        -1.71103500000,
                        47.21018000000
                    ],
                    [
                        -1.71100800000,
                        47.21019400000
                    ],
                    [
                        -1.71097400000,
                        47.21021400000
                    ],
                    [
                        -1.71094800000,
                        47.21021300000
                    ],
                    [
                        -1.71092200000,
                        47.21021500000
                    ],
                    [
                        -1.71089600000,
                        47.21021900000
                    ],
                    [
                        -1.71087100000,
                        47.21022500000
                    ],
                    [
                        -1.71084800000,
                        47.21023400000
                    ],
                    [
                        -1.71082700000,
                        47.21024400000
                    ],
                    [
                        -1.71080800000,
                        47.21025700000
                    ],
                    [
                        -1.71070400000,
                        47.21028300000
                    ],
                    [
                        -1.71062100000,
                        47.21028900000
                    ],
                    [
                        -1.71054300000,
                        47.21028800000
                    ],
                    [
                        -1.71047100000,
                        47.21028000000
                    ],
                    [
                        -1.71030000000,
                        47.21024500000
                    ],
                    [
                        -1.71022800000,
                        47.21024200000
                    ],
                    [
                        -1.70939300000,
                        47.21000200000
                    ],
                    [
                        -1.70827200000,
                        47.20967700000
                    ],
                    [
                        -1.70805500000,
                        47.20961500000
                    ],
                    [
                        -1.70794500000,
                        47.20958800000
                    ],
                    [
                        -1.70783400000,
                        47.20956400000
                    ],
                    [
                        -1.70759700000,
                        47.20952000000
                    ],
                    [
                        -1.70747800000,
                        47.20950300000
                    ],
                    [
                        -1.70735800000,
                        47.20948900000
                    ],
                    [
                        -1.70720400000,
                        47.20947800000
                    ],
                    [
                        -1.70706600000,
                        47.20947700000
                    ],
                    [
                        -1.70690600000,
                        47.20948100000
                    ],
                    [
                        -1.70672800000,
                        47.20949600000
                    ],
                    [
                        -1.70647500000,
                        47.20952400000
                    ],
                    [
                        -1.70621200000,
                        47.20955900000
                    ],
                    [
                        -1.70569600000,
                        47.20962800000
                    ],
                    [
                        -1.70517800000,
                        47.20968400000
                    ],
                    [
                        -1.70491400000,
                        47.20970500000
                    ],
                    [
                        -1.70465000000,
                        47.20971900000
                    ],
                    [
                        -1.70439200000,
                        47.20972900000
                    ],
                    [
                        -1.70413300000,
                        47.20973300000
                    ],
                    [
                        -1.70387300000,
                        47.20973400000
                    ],
                    [
                        -1.70361300000,
                        47.20972700000
                    ],
                    [
                        -1.70327700000,
                        47.20971500000
                    ],
                    [
                        -1.70294300000,
                        47.20969200000
                    ],
                    [
                        -1.70261000000,
                        47.20966500000
                    ],
                    [
                        -1.70227600000,
                        47.20962900000
                    ],
                    [
                        -1.70209800000,
                        47.20960400000
                    ],
                    [
                        -1.70189100000,
                        47.20955300000
                    ],
                    [
                        -1.70163900000,
                        47.20950400000
                    ],
                    [
                        -1.70137400000,
                        47.20943600000
                    ],
                    [
                        -1.70123700000,
                        47.20939600000
                    ],
                    [
                        -1.70116400000,
                        47.20937600000
                    ],
                    [
                        -1.70108100000,
                        47.20934300000
                    ],
                    [
                        -1.70096400000,
                        47.20927300000
                    ],
                    [
                        -1.70095000000,
                        47.20926000000
                    ],
                    [
                        -1.70093400000,
                        47.20924800000
                    ],
                    [
                        -1.70091700000,
                        47.20923700000
                    ],
                    [
                        -1.70089800000,
                        47.20922800000
                    ],
                    [
                        -1.70087600000,
                        47.20921800000
                    ],
                    [
                        -1.70085200000,
                        47.20921000000
                    ],
                    [
                        -1.70082600000,
                        47.20920500000
                    ],
                    [
                        -1.70080100000,
                        47.20920000000
                    ],
                    [
                        -1.70077400000,
                        47.20919800000
                    ],
                    [
                        -1.70074800000,
                        47.20919800000
                    ],
                    [
                        -1.70072100000,
                        47.20919900000
                    ],
                    [
                        -1.70069500000,
                        47.20920200000
                    ],
                    [
                        -1.70066900000,
                        47.20920800000
                    ],
                    [
                        -1.70064000000,
                        47.20921600000
                    ],
                    [
                        -1.70061200000,
                        47.20922700000
                    ],
                    [
                        -1.70058700000,
                        47.20924100000
                    ],
                    [
                        -1.70045300000,
                        47.20929600000
                    ],
                    [
                        -1.70036900000,
                        47.20931500000
                    ],
                    [
                        -1.70028500000,
                        47.20932300000
                    ],
                    [
                        -1.70000500000,
                        47.20933800000
                    ],
                    [
                        -1.69954600000,
                        47.20938200000
                    ],
                    [
                        -1.69925400000,
                        47.20938600000
                    ],
                    [
                        -1.69896800000,
                        47.20938400000
                    ],
                    [
                        -1.69874100000,
                        47.20937800000
                    ],
                    [
                        -1.69860100000,
                        47.20937300000
                    ],
                    [
                        -1.69842700000,
                        47.20936500000
                    ],
                    [
                        -1.69246800000,
                        47.20893100000
                    ],
                    [
                        -1.69120900000,
                        47.20884000000
                    ],
                    [
                        -1.69054700000,
                        47.20878000000
                    ],
                    [
                        -1.68989000000,
                        47.20870300000
                    ],
                    [
                        -1.68918300000,
                        47.20859600000
                    ],
                    [
                        -1.68872100000,
                        47.20850600000
                    ],
                    [
                        -1.68848100000,
                        47.20845000000
                    ],
                    [
                        -1.68817000000,
                        47.20837700000
                    ],
                    [
                        -1.68789700000,
                        47.20831200000
                    ],
                    [
                        -1.68762300000,
                        47.20824000000
                    ],
                    [
                        -1.68655900000,
                        47.20793200000
                    ],
                    [
                        -1.68578400000,
                        47.20770000000
                    ],
                    [
                        -1.68447000000,
                        47.20730800000
                    ],
                    [
                        -1.68422200000,
                        47.20723300000
                    ],
                    [
                        -1.68423100000,
                        47.20721300000
                    ],
                    [
                        -1.68423700000,
                        47.20719300000
                    ],
                    [
                        -1.68423900000,
                        47.20717300000
                    ],
                    [
                        -1.68423800000,
                        47.20715200000
                    ],
                    [
                        -1.68423300000,
                        47.20713200000
                    ],
                    [
                        -1.68422400000,
                        47.20711200000
                    ],
                    [
                        -1.68421200000,
                        47.20709300000
                    ],
                    [
                        -1.68419700000,
                        47.20707500000
                    ],
                    [
                        -1.68417900000,
                        47.20705900000
                    ],
                    [
                        -1.68415900000,
                        47.20704400000
                    ],
                    [
                        -1.68413500000,
                        47.20703100000
                    ],
                    [
                        -1.68411000000,
                        47.20702000000
                    ],
                    [
                        -1.68408300000,
                        47.20701000000
                    ],
                    [
                        -1.68405400000,
                        47.20700300000
                    ],
                    [
                        -1.68402500000,
                        47.20699900000
                    ],
                    [
                        -1.68399500000,
                        47.20699700000
                    ],
                    [
                        -1.68396500000,
                        47.20699700000
                    ],
                    [
                        -1.68393200000,
                        47.20700000000
                    ],
                    [
                        -1.68390000000,
                        47.20700600000
                    ],
                    [
                        -1.68386900000,
                        47.20701400000
                    ],
                    [
                        -1.68384000000,
                        47.20702500000
                    ],
                    [
                        -1.68381400000,
                        47.20703900000
                    ],
                    [
                        -1.68379000000,
                        47.20705500000
                    ],
                    [
                        -1.68377000000,
                        47.20707300000
                    ],
                    [
                        -1.68375300000,
                        47.20709200000
                    ],
                    [
                        -1.68374000000,
                        47.20711300000
                    ],
                    [
                        -1.68329300000,
                        47.20696500000
                    ],
                    [
                        -1.68063600000,
                        47.20618000000
                    ],
                    [
                        -1.67929200000,
                        47.20578300000
                    ],
                    [
                        -1.67862500000,
                        47.20558300000
                    ],
                    [
                        -1.67796500000,
                        47.20536800000
                    ],
                    [
                        -1.67716700000,
                        47.20508900000
                    ],
                    [
                        -1.67677600000,
                        47.20494600000
                    ],
                    [
                        -1.67639000000,
                        47.20479700000
                    ],
                    [
                        -1.67631000000,
                        47.20472700000
                    ],
                    [
                        -1.67623900000,
                        47.20468900000
                    ],
                    [
                        -1.67607900000,
                        47.20458900000
                    ],
                    [
                        -1.67599800000,
                        47.20453000000
                    ],
                    [
                        -1.67592600000,
                        47.20446100000
                    ],
                    [
                        -1.67589800000,
                        47.20442800000
                    ],
                    [
                        -1.67587200000,
                        47.20437900000
                    ],
                    [
                        -1.67584700000,
                        47.20434400000
                    ],
                    [
                        -1.67585400000,
                        47.20433000000
                    ],
                    [
                        -1.67586000000,
                        47.20431600000
                    ],
                    [
                        -1.67586300000,
                        47.20430200000
                    ],
                    [
                        -1.67586500000,
                        47.20428800000
                    ],
                    [
                        -1.67586500000,
                        47.20427400000
                    ],
                    [
                        -1.67586300000,
                        47.20425900000
                    ],
                    [
                        -1.67586000000,
                        47.20424500000
                    ],
                    [
                        -1.67585500000,
                        47.20423200000
                    ],
                    [
                        -1.67584700000,
                        47.20421700000
                    ],
                    [
                        -1.67583800000,
                        47.20420300000
                    ],
                    [
                        -1.67582700000,
                        47.20419000000
                    ],
                    [
                        -1.67581500000,
                        47.20417700000
                    ],
                    [
                        -1.67580000000,
                        47.20416500000
                    ],
                    [
                        -1.67578500000,
                        47.20415500000
                    ],
                    [
                        -1.67576700000,
                        47.20414500000
                    ],
                    [
                        -1.67574900000,
                        47.20413600000
                    ],
                    [
                        -1.67573000000,
                        47.20412800000
                    ],
                    [
                        -1.67570900000,
                        47.20412200000
                    ],
                    [
                        -1.67569100000,
                        47.20411700000
                    ],
                    [
                        -1.67567200000,
                        47.20411300000
                    ],
                    [
                        -1.67565300000,
                        47.20411100000
                    ],
                    [
                        -1.67563400000,
                        47.20410900000
                    ],
                    [
                        -1.67561400000,
                        47.20410800000
                    ],
                    [
                        -1.67559400000,
                        47.20410900000
                    ],
                    [
                        -1.67557500000,
                        47.20411000000
                    ],
                    [
                        -1.67555600000,
                        47.20411200000
                    ],
                    [
                        -1.67553700000,
                        47.20411600000
                    ],
                    [
                        -1.67551900000,
                        47.20412000000
                    ],
                    [
                        -1.67550100000,
                        47.20412600000
                    ],
                    [
                        -1.67548400000,
                        47.20413200000
                    ],
                    [
                        -1.67546700000,
                        47.20413900000
                    ],
                    [
                        -1.67545200000,
                        47.20414700000
                    ],
                    [
                        -1.67535600000,
                        47.20415300000
                    ],
                    [
                        -1.67524400000,
                        47.20414900000
                    ],
                    [
                        -1.67510000000,
                        47.20413000000
                    ],
                    [
                        -1.67495400000,
                        47.20409700000
                    ],
                    [
                        -1.67479900000,
                        47.20405700000
                    ],
                    [
                        -1.67458200000,
                        47.20398900000
                    ],
                    [
                        -1.67445400000,
                        47.20394100000
                    ],
                    [
                        -1.67428600000,
                        47.20389100000
                    ],
                    [
                        -1.67359000000,
                        47.20356600000
                    ],
                    [
                        -1.67092700000,
                        47.20238500000
                    ],
                    [
                        -1.66900800000,
                        47.20152800000
                    ],
                    [
                        -1.66892100000,
                        47.20146400000
                    ],
                    [
                        -1.66886000000,
                        47.20142000000
                    ],
                    [
                        -1.66876100000,
                        47.20134500000
                    ],
                    [
                        -1.66866500000,
                        47.20129300000
                    ],
                    [
                        -1.66849600000,
                        47.20121900000
                    ],
                    [
                        -1.66831200000,
                        47.20114300000
                    ],
                    [
                        -1.66827100000,
                        47.20112500000
                    ],
                    [
                        -1.66823400000,
                        47.20110800000
                    ],
                    [
                        -1.66816900000,
                        47.20106000000
                    ],
                    [
                        -1.66814900000,
                        47.20102700000
                    ],
                    [
                        -1.66812300000,
                        47.20099600000
                    ],
                    [
                        -1.66812500000,
                        47.20095200000
                    ],
                    [
                        -1.66813200000,
                        47.20092200000
                    ],
                    [
                        -1.66815100000,
                        47.20089200000
                    ],
                    [
                        -1.66818200000,
                        47.20085700000
                    ],
                    [
                        -1.66821500000,
                        47.20082500000
                    ],
                    [
                        -1.66829000000,
                        47.20075800000
                    ],
                    [
                        -1.66850900000,
                        47.20062000000
                    ],
                    [
                        -1.66905600000,
                        47.20029900000
                    ],
                    [
                        -1.66912100000,
                        47.20025800000
                    ],
                    [
                        -1.66914900000,
                        47.20024200000
                    ],
                    [
                        -1.66918900000,
                        47.20026000000
                    ],
                    [
                        -1.66923600000,
                        47.20026000000
                    ],
                    [
                        -1.66927700000,
                        47.20024300000
                    ],
                    [
                        -1.66929600000,
                        47.20021900000
                    ],
                    [
                        -1.66929700000,
                        47.20019200000
                    ],
                    [
                        -1.66927900000,
                        47.20016700000
                    ],
                    [
                        -1.66930900000,
                        47.20015000000
                    ],
                    [
                        -1.66937500000,
                        47.20010900000
                    ],
                    [
                        -1.67012400000,
                        47.19965600000
                    ],
                    [
                        -1.67050400000,
                        47.19939200000
                    ],
                    [
                        -1.67053400000,
                        47.19937000000
                    ],
                    [
                        -1.67050400000,
                        47.19939200000
                    ],
                    [
                        -1.67043100000,
                        47.19936800000
                    ],
                    [
                        -1.67023700000,
                        47.19931700000
                    ],
                    [
                        -1.66990800000,
                        47.19924700000
                    ],
                    [
                        -1.66950700000,
                        47.19915000000
                    ],
                    [
                        -1.66937100000,
                        47.19911600000
                    ],
                    [
                        -1.66928200000,
                        47.19906300000
                    ],
                    [
                        -1.66908600000,
                        47.19898100000
                    ],
                    [
                        -1.66871800000,
                        47.19876500000
                    ],
                    [
                        -1.66841400000,
                        47.19857900000
                    ],
                    [
                        -1.66812200000,
                        47.19840400000
                    ],
                    [
                        -1.66806200000,
                        47.19834500000
                    ],
                    [
                        -1.66778800000,
                        47.19816600000
                    ],
                    [
                        -1.66748000000,
                        47.19785700000
                    ],
                    [
                        -1.66737300000,
                        47.19776500000
                    ],
                    [
                        -1.66723500000,
                        47.19760700000
                    ],
                    [
                        -1.66696600000,
                        47.19728300000
                    ],
                    [
                        -1.66682700000,
                        47.19714600000
                    ],
                    [
                        -1.66679200000,
                        47.19711100000
                    ],
                    [
                        -1.66666200000,
                        47.19706100000
                    ],
                    [
                        -1.66665600000,
                        47.19702600000
                    ],
                    [
                        -1.66664500000,
                        47.19699000000
                    ],
                    [
                        -1.66662100000,
                        47.19694600000
                    ],
                    [
                        -1.66638400000,
                        47.19702400000
                    ],
                    [
                        -1.66615400000,
                        47.19704600000
                    ],
                    [
                        -1.66590600000,
                        47.19710100000
                    ],
                    [
                        -1.66589800000,
                        47.19714900000
                    ],
                    [
                        -1.66517900000,
                        47.19723200000
                    ],
                    [
                        -1.66462400000,
                        47.19729400000
                    ],
                    [
                        -1.66439000000,
                        47.19731900000
                    ],
                    [
                        -1.66391900000,
                        47.19736800000
                    ],
                    [
                        -1.66354800000,
                        47.19740400000
                    ],
                    [
                        -1.66281200000,
                        47.19748700000
                    ],
                    [
                        -1.66271200000,
                        47.19750100000
                    ],
                    [
                        -1.66262000000,
                        47.19751000000
                    ],
                    [
                        -1.66252500000,
                        47.19751400000
                    ],
                    [
                        -1.66239100000,
                        47.19752000000
                    ],
                    [
                        -1.66199600000,
                        47.19752800000
                    ],
                    [
                        -1.66174500000,
                        47.19752700000
                    ],
                    [
                        -1.66142100000,
                        47.19750000000
                    ],
                    [
                        -1.66125400000,
                        47.19747900000
                    ],
                    [
                        -1.66116300000,
                        47.19747000000
                    ],
                    [
                        -1.66109600000,
                        47.19746400000
                    ],
                    [
                        -1.66102400000,
                        47.19746200000
                    ],
                    [
                        -1.66095200000,
                        47.19746200000
                    ],
                    [
                        -1.66091200000,
                        47.19746500000
                    ],
                    [
                        -1.66080700000,
                        47.19748000000
                    ],
                    [
                        -1.66073500000,
                        47.19749400000
                    ],
                    [
                        -1.66073200000,
                        47.19745400000
                    ],
                    [
                        -1.66071400000,
                        47.19741600000
                    ],
                    [
                        -1.66068400000,
                        47.19738200000
                    ],
                    [
                        -1.66064300000,
                        47.19735400000
                    ],
                    [
                        -1.66059300000,
                        47.19733300000
                    ],
                    [
                        -1.66053700000,
                        47.19732100000
                    ],
                    [
                        -1.66047900000,
                        47.19731900000
                    ],
                    [
                        -1.66042100000,
                        47.19732600000
                    ],
                    [
                        -1.66036800000,
                        47.19734200000
                    ],
                    [
                        -1.66030200000,
                        47.19728500000
                    ],
                    [
                        -1.66023300000,
                        47.19722900000
                    ],
                    [
                        -1.66012500000,
                        47.19717000000
                    ],
                    [
                        -1.65998600000,
                        47.19710900000
                    ],
                    [
                        -1.65981800000,
                        47.19704600000
                    ],
                    [
                        -1.65944500000,
                        47.19691900000
                    ],
                    [
                        -1.65921800000,
                        47.19685000000
                    ],
                    [
                        -1.65898200000,
                        47.19679000000
                    ],
                    [
                        -1.65700700000,
                        47.19639400000
                    ],
                    [
                        -1.65608200000,
                        47.19619500000
                    ],
                    [
                        -1.65546900000,
                        47.19607500000
                    ],
                    [
                        -1.65499100000,
                        47.19599100000
                    ],
                    [
                        -1.65483100000,
                        47.19595900000
                    ],
                    [
                        -1.65469100000,
                        47.19592600000
                    ],
                    [
                        -1.65453400000,
                        47.19588400000
                    ],
                    [
                        -1.65435400000,
                        47.19582900000
                    ],
                    [
                        -1.65362400000,
                        47.19559700000
                    ],
                    [
                        -1.65370900000,
                        47.19551200000
                    ],
                    [
                        -1.65385500000,
                        47.19531400000
                    ],
                    [
                        -1.65386100000,
                        47.19526400000
                    ],
                    [
                        -1.65372300000,
                        47.19512400000
                    ],
                    [
                        -1.65358200000,
                        47.19504300000
                    ],
                    [
                        -1.65334800000,
                        47.19494300000
                    ],
                    [
                        -1.65296600000,
                        47.19479700000
                    ],
                    [
                        -1.65284900000,
                        47.19475900000
                    ],
                    [
                        -1.65248400000,
                        47.19462700000
                    ],
                    [
                        -1.65227600000,
                        47.19461900000
                    ],
                    [
                        -1.65206200000,
                        47.19463700000
                    ],
                    [
                        -1.65180900000,
                        47.19460700000
                    ],
                    [
                        -1.65162200000,
                        47.19455000000
                    ],
                    [
                        -1.65150500000,
                        47.19449600000
                    ],
                    [
                        -1.65141700000,
                        47.19444200000
                    ],
                    [
                        -1.65135000000,
                        47.19439300000
                    ],
                    [
                        -1.65130900000,
                        47.19436100000
                    ],
                    [
                        -1.65090200000,
                        47.19409200000
                    ],
                    [
                        -1.65056100000,
                        47.19391400000
                    ],
                    [
                        -1.64957700000,
                        47.19370000000
                    ],
                    [
                        -1.64883500000,
                        47.19355200000
                    ],
                    [
                        -1.64875700000,
                        47.19354400000
                    ],
                    [
                        -1.64879300000,
                        47.19342200000
                    ],
                    [
                        -1.64872300000,
                        47.19339200000
                    ],
                    [
                        -1.64744200000,
                        47.19322200000
                    ],
                    [
                        -1.64729200000,
                        47.19319200000
                    ],
                    [
                        -1.64720000000,
                        47.19317900000
                    ],
                    [
                        -1.64712700000,
                        47.19317900000
                    ],
                    [
                        -1.64705500000,
                        47.19318900000
                    ],
                    [
                        -1.64696000000,
                        47.19325200000
                    ],
                    [
                        -1.64678700000,
                        47.19340700000
                    ],
                    [
                        -1.64675800000,
                        47.19347000000
                    ],
                    [
                        -1.64667600000,
                        47.19350200000
                    ],
                    [
                        -1.64648100000,
                        47.19361100000
                    ],
                    [
                        -1.64641000000,
                        47.19362100000
                    ],
                    [
                        -1.64631800000,
                        47.19365300000
                    ],
                    [
                        -1.64626700000,
                        47.19366200000
                    ],
                    [
                        -1.64624900000,
                        47.19365900000
                    ],
                    [
                        -1.64623000000,
                        47.19365800000
                    ],
                    [
                        -1.64621200000,
                        47.19366000000
                    ],
                    [
                        -1.64619500000,
                        47.19366600000
                    ],
                    [
                        -1.64618000000,
                        47.19367400000
                    ],
                    [
                        -1.64611300000,
                        47.19367500000
                    ],
                    [
                        -1.64604000000,
                        47.19368000000
                    ],
                    [
                        -1.64597600000,
                        47.19368800000
                    ],
                    [
                        -1.64593500000,
                        47.19371000000
                    ],
                    [
                        -1.64587600000,
                        47.19371400000
                    ],
                    [
                        -1.64581700000,
                        47.19371800000
                    ],
                    [
                        -1.64573700000,
                        47.19372400000
                    ],
                    [
                        -1.64550700000,
                        47.19373800000
                    ],
                    [
                        -1.64175400000,
                        47.19399400000
                    ],
                    [
                        -1.63980300000,
                        47.19412800000
                    ],
                    [
                        -1.63904400000,
                        47.19417300000
                    ],
                    [
                        -1.63888900000,
                        47.19418400000
                    ],
                    [
                        -1.63868900000,
                        47.19420800000
                    ],
                    [
                        -1.63859600000,
                        47.19421300000
                    ],
                    [
                        -1.63852100000,
                        47.19423200000
                    ],
                    [
                        -1.63844900000,
                        47.19424700000
                    ],
                    [
                        -1.63832900000,
                        47.19426500000
                    ],
                    [
                        -1.63829200000,
                        47.19426300000
                    ],
                    [
                        -1.63825500000,
                        47.19426500000
                    ],
                    [
                        -1.63821900000,
                        47.19427200000
                    ],
                    [
                        -1.63818400000,
                        47.19428100000
                    ],
                    [
                        -1.63808600000,
                        47.19427500000
                    ],
                    [
                        -1.63785600000,
                        47.19426200000
                    ],
                    [
                        -1.63785800000,
                        47.19431600000
                    ],
                    [
                        -1.63783900000,
                        47.19438800000
                    ],
                    [
                        -1.63780500000,
                        47.19444600000
                    ],
                    [
                        -1.63777100000,
                        47.19447600000
                    ],
                    [
                        -1.63774600000,
                        47.19448700000
                    ],
                    [
                        -1.63771200000,
                        47.19449100000
                    ],
                    [
                        -1.63747100000,
                        47.19446300000
                    ],
                    [
                        -1.63735600000,
                        47.19445000000
                    ],
                    [
                        -1.63725800000,
                        47.19444400000
                    ],
                    [
                        -1.63711000000,
                        47.19444400000
                    ],
                    [
                        -1.63637300000,
                        47.19445000000
                    ],
                    [
                        -1.63624200000,
                        47.19444800000
                    ],
                    [
                        -1.63612200000,
                        47.19446100000
                    ],
                    [
                        -1.63515300000,
                        47.19458600000
                    ],
                    [
                        -1.63409300000,
                        47.19472200000
                    ],
                    [
                        -1.63324200000,
                        47.19482300000
                    ],
                    [
                        -1.63234700000,
                        47.19494300000
                    ],
                    [
                        -1.63198200000,
                        47.19498200000
                    ],
                    [
                        -1.63161500000,
                        47.19502600000
                    ],
                    [
                        -1.63148900000,
                        47.19503500000
                    ],
                    [
                        -1.63132900000,
                        47.19504300000
                    ],
                    [
                        -1.63113000000,
                        47.19504700000
                    ],
                    [
                        -1.63070800000,
                        47.19504800000
                    ],
                    [
                        -1.63046500000,
                        47.19504300000
                    ],
                    [
                        -1.63021200000,
                        47.19502700000
                    ],
                    [
                        -1.62974600000,
                        47.19499400000
                    ],
                    [
                        -1.62923700000,
                        47.19493800000
                    ],
                    [
                        -1.62848700000,
                        47.19486700000
                    ],
                    [
                        -1.62815500000,
                        47.19483600000
                    ],
                    [
                        -1.62786400000,
                        47.19481800000
                    ],
                    [
                        -1.62738500000,
                        47.19479600000
                    ],
                    [
                        -1.62605800000,
                        47.19473600000
                    ],
                    [
                        -1.62525900000,
                        47.19469900000
                    ],
                    [
                        -1.62482100000,
                        47.19467900000
                    ],
                    [
                        -1.62409600000,
                        47.19465000000
                    ],
                    [
                        -1.62352400000,
                        47.19464100000
                    ],
                    [
                        -1.62233800000,
                        47.19464300000
                    ],
                    [
                        -1.62230400000,
                        47.19465300000
                    ],
                    [
                        -1.62220800000,
                        47.19467400000
                    ],
                    [
                        -1.62206200000,
                        47.19467900000
                    ],
                    [
                        -1.62171100000,
                        47.19467700000
                    ],
                    [
                        -1.62144700000,
                        47.19466500000
                    ],
                    [
                        -1.62049400000,
                        47.19462100000
                    ],
                    [
                        -1.61996600000,
                        47.19462000000
                    ],
                    [
                        -1.61990700000,
                        47.19462500000
                    ],
                    [
                        -1.61985300000,
                        47.19463700000
                    ],
                    [
                        -1.61979600000,
                        47.19465800000
                    ],
                    [
                        -1.61973100000,
                        47.19458900000
                    ],
                    [
                        -1.61965500000,
                        47.19460400000
                    ],
                    [
                        -1.61961100000,
                        47.19462000000
                    ],
                    [
                        -1.61959100000,
                        47.19459000000
                    ],
                    [
                        -1.61956400000,
                        47.19456300000
                    ],
                    [
                        -1.61952900000,
                        47.19454000000
                    ],
                    [
                        -1.61948900000,
                        47.19452200000
                    ],
                    [
                        -1.61944500000,
                        47.19451000000
                    ],
                    [
                        -1.61939700000,
                        47.19450400000
                    ],
                    [
                        -1.61934900000,
                        47.19450300000
                    ],
                    [
                        -1.61930200000,
                        47.19450900000
                    ],
                    [
                        -1.61925700000,
                        47.19452100000
                    ],
                    [
                        -1.61921600000,
                        47.19453900000
                    ],
                    [
                        -1.61918100000,
                        47.19456200000
                    ],
                    [
                        -1.61914300000,
                        47.19453600000
                    ],
                    [
                        -1.61900000000,
                        47.19445900000
                    ],
                    [
                        -1.61889800000,
                        47.19441500000
                    ],
                    [
                        -1.61877600000,
                        47.19437900000
                    ],
                    [
                        -1.61867400000,
                        47.19435900000
                    ],
                    [
                        -1.61854800000,
                        47.19434000000
                    ],
                    [
                        -1.61828600000,
                        47.19431500000
                    ],
                    [
                        -1.61809800000,
                        47.19432200000
                    ],
                    [
                        -1.61790700000,
                        47.19435100000
                    ],
                    [
                        -1.61754800000,
                        47.19441900000
                    ],
                    [
                        -1.61724200000,
                        47.19446200000
                    ],
                    [
                        -1.61705100000,
                        47.19448700000
                    ],
                    [
                        -1.61671200000,
                        47.19450700000
                    ],
                    [
                        -1.61620100000,
                        47.19453700000
                    ],
                    [
                        -1.61582000000,
                        47.19456100000
                    ],
                    [
                        -1.61553800000,
                        47.19462100000
                    ],
                    [
                        -1.61513900000,
                        47.19473900000
                    ],
                    [
                        -1.61488500000,
                        47.19480700000
                    ],
                    [
                        -1.61465900000,
                        47.19483900000
                    ],
                    [
                        -1.61310500000,
                        47.19475300000
                    ],
                    [
                        -1.61235900000,
                        47.19471200000
                    ],
                    [
                        -1.61047500000,
                        47.19461900000
                    ],
                    [
                        -1.61031700000,
                        47.19461100000
                    ],
                    [
                        -1.61026200000,
                        47.19460800000
                    ],
                    [
                        -1.61016000000,
                        47.19461000000
                    ],
                    [
                        -1.61012300000,
                        47.19461200000
                    ],
                    [
                        -1.61006100000,
                        47.19461500000
                    ],
                    [
                        -1.60982100000,
                        47.19463300000
                    ],
                    [
                        -1.60943600000,
                        47.19466000000
                    ],
                    [
                        -1.60938400000,
                        47.19466400000
                    ],
                    [
                        -1.60894900000,
                        47.19469500000
                    ],
                    [
                        -1.60882200000,
                        47.19470300000
                    ],
                    [
                        -1.60848400000,
                        47.19472500000
                    ],
                    [
                        -1.60814600000,
                        47.19475000000
                    ],
                    [
                        -1.60794300000,
                        47.19477200000
                    ],
                    [
                        -1.60774600000,
                        47.19479700000
                    ],
                    [
                        -1.60699500000,
                        47.19489200000
                    ],
                    [
                        -1.60624100000,
                        47.19498900000
                    ],
                    [
                        -1.60583400000,
                        47.19504000000
                    ],
                    [
                        -1.60563100000,
                        47.19506500000
                    ],
                    [
                        -1.60542500000,
                        47.19508300000
                    ],
                    [
                        -1.60474300000,
                        47.19514000000
                    ],
                    [
                        -1.60414500000,
                        47.19519100000
                    ],
                    [
                        -1.60364200000,
                        47.19520400000
                    ],
                    [
                        -1.60313400000,
                        47.19521600000
                    ],
                    [
                        -1.60277600000,
                        47.19523100000
                    ],
                    [
                        -1.60077300000,
                        47.19539100000
                    ],
                    [
                        -1.60057000000,
                        47.19540800000
                    ],
                    [
                        -1.59990100000,
                        47.19545400000
                    ],
                    [
                        -1.59942200000,
                        47.19550100000
                    ],
                    [
                        -1.59913100000,
                        47.19555600000
                    ],
                    [
                        -1.59897900000,
                        47.19559000000
                    ],
                    [
                        -1.59882900000,
                        47.19563000000
                    ],
                    [
                        -1.59731900000,
                        47.19609700000
                    ],
                    [
                        -1.59708300000,
                        47.19617000000
                    ],
                    [
                        -1.59640000000,
                        47.19637700000
                    ],
                    [
                        -1.59569800000,
                        47.19652600000
                    ],
                    [
                        -1.59432300000,
                        47.19677400000
                    ],
                    [
                        -1.59389400000,
                        47.19686100000
                    ],
                    [
                        -1.59360300000,
                        47.19693800000
                    ],
                    [
                        -1.59335000000,
                        47.19701800000
                    ],
                    [
                        -1.59288700000,
                        47.19716500000
                    ],
                    [
                        -1.59262800000,
                        47.19723800000
                    ],
                    [
                        -1.59256500000,
                        47.19725500000
                    ],
                    [
                        -1.59220600000,
                        47.19733000000
                    ],
                    [
                        -1.59213600000,
                        47.19734200000
                    ],
                    [
                        -1.58955200000,
                        47.19777100000
                    ],
                    [
                        -1.58913100000,
                        47.19783600000
                    ],
                    [
                        -1.58878200000,
                        47.19784700000
                    ],
                    [
                        -1.58835000000,
                        47.19777900000
                    ],
                    [
                        -1.58818500000,
                        47.19775300000
                    ],
                    [
                        -1.58790500000,
                        47.19774500000
                    ],
                    [
                        -1.58759500000,
                        47.19780600000
                    ],
                    [
                        -1.58752700000,
                        47.19782200000
                    ],
                    [
                        -1.58714800000,
                        47.19791400000
                    ],
                    [
                        -1.58631600000,
                        47.19809700000
                    ],
                    [
                        -1.58591900000,
                        47.19820200000
                    ],
                    [
                        -1.58586900000,
                        47.19822800000
                    ],
                    [
                        -1.58593500000,
                        47.19837800000
                    ],
                    [
                        -1.58596400000,
                        47.19844800000
                    ],
                    [
                        -1.58597500000,
                        47.19847400000
                    ],
                    [
                        -1.58599400000,
                        47.19851900000
                    ],
                    [
                        -1.58588100000,
                        47.19853000000
                    ],
                    [
                        -1.58545200000,
                        47.19857100000
                    ],
                    [
                        -1.58495000000,
                        47.19861600000
                    ],
                    [
                        -1.58481200000,
                        47.19863200000
                    ],
                    [
                        -1.58459200000,
                        47.19867000000
                    ],
                    [
                        -1.58437400000,
                        47.19871800000
                    ],
                    [
                        -1.58421000000,
                        47.19875700000
                    ],
                    [
                        -1.58390900000,
                        47.19883000000
                    ],
                    [
                        -1.58344800000,
                        47.19894000000
                    ],
                    [
                        -1.58319100000,
                        47.19897400000
                    ],
                    [
                        -1.58310500000,
                        47.19898500000
                    ],
                    [
                        -1.58298600000,
                        47.19900700000
                    ],
                    [
                        -1.58263400000,
                        47.19907000000
                    ],
                    [
                        -1.58136300000,
                        47.19939000000
                    ],
                    [
                        -1.58115300000,
                        47.19944500000
                    ],
                    [
                        -1.58058400000,
                        47.19959100000
                    ],
                    [
                        -1.58020600000,
                        47.19970900000
                    ],
                    [
                        -1.57989800000,
                        47.19982600000
                    ],
                    [
                        -1.57970500000,
                        47.19990300000
                    ],
                    [
                        -1.57955500000,
                        47.19996200000
                    ],
                    [
                        -1.57884700000,
                        47.20024700000
                    ],
                    [
                        -1.57873400000,
                        47.20029300000
                    ],
                    [
                        -1.57871000000,
                        47.20026700000
                    ],
                    [
                        -1.57867500000,
                        47.20023200000
                    ],
                    [
                        -1.57867200000,
                        47.20023000000
                    ],
                    [
                        -1.57866600000,
                        47.20022600000
                    ],
                    [
                        -1.57865500000,
                        47.20022100000
                    ],
                    [
                        -1.57864300000,
                        47.20021700000
                    ],
                    [
                        -1.57863400000,
                        47.20021600000
                    ],
                    [
                        -1.57862800000,
                        47.20021500000
                    ],
                    [
                        -1.57861400000,
                        47.20021400000
                    ],
                    [
                        -1.57859900000,
                        47.20021500000
                    ],
                    [
                        -1.57858500000,
                        47.20022000000
                    ],
                    [
                        -1.57854700000,
                        47.20023500000
                    ],
                    [
                        -1.57791700000,
                        47.20051800000
                    ],
                    [
                        -1.57778000000,
                        47.20059700000
                    ],
                    [
                        -1.57760700000,
                        47.20070900000
                    ],
                    [
                        -1.57739100000,
                        47.20084800000
                    ],
                    [
                        -1.57718800000,
                        47.20098600000
                    ],
                    [
                        -1.57713100000,
                        47.20103500000
                    ],
                    [
                        -1.57686300000,
                        47.20126000000
                    ],
                    [
                        -1.57685900000,
                        47.20126300000
                    ],
                    [
                        -1.57655200000,
                        47.20154800000
                    ],
                    [
                        -1.57651700000,
                        47.20157500000
                    ],
                    [
                        -1.57643400000,
                        47.20163700000
                    ],
                    [
                        -1.57635400000,
                        47.20169800000
                    ],
                    [
                        -1.57626900000,
                        47.20177200000
                    ],
                    [
                        -1.57618400000,
                        47.20185300000
                    ],
                    [
                        -1.57616000000,
                        47.20187200000
                    ],
                    [
                        -1.57614200000,
                        47.20189200000
                    ],
                    [
                        -1.57608500000,
                        47.20197000000
                    ],
                    [
                        -1.57608200000,
                        47.20197400000
                    ],
                    [
                        -1.57608300000,
                        47.20197800000
                    ],
                    [
                        -1.57608500000,
                        47.20198200000
                    ],
                    [
                        -1.57608700000,
                        47.20198400000
                    ],
                    [
                        -1.57608900000,
                        47.20198600000
                    ],
                    [
                        -1.57609500000,
                        47.20198800000
                    ],
                    [
                        -1.57610100000,
                        47.20199000000
                    ],
                    [
                        -1.57623000000,
                        47.20203300000
                    ],
                    [
                        -1.57618800000,
                        47.20208300000
                    ],
                    [
                        -1.57611200000,
                        47.20217300000
                    ],
                    [
                        -1.57598100000,
                        47.20235100000
                    ],
                    [
                        -1.57588700000,
                        47.20248200000
                    ],
                    [
                        -1.57579900000,
                        47.20262400000
                    ],
                    [
                        -1.57558500000,
                        47.20300500000
                    ],
                    [
                        -1.57531000000,
                        47.20350600000
                    ],
                    [
                        -1.57517900000,
                        47.20374600000
                    ],
                    [
                        -1.57507600000,
                        47.20399400000
                    ],
                    [
                        -1.57503300000,
                        47.20415000000
                    ],
                    [
                        -1.57502400000,
                        47.20418200000
                    ],
                    [
                        -1.57496700000,
                        47.20439000000
                    ],
                    [
                        -1.57495400000,
                        47.20440800000
                    ],
                    [
                        -1.57492500000,
                        47.20454600000
                    ],
                    [
                        -1.57481700000,
                        47.20479300000
                    ],
                    [
                        -1.57462100000,
                        47.20511600000
                    ],
                    [
                        -1.57459500000,
                        47.20514900000
                    ],
                    [
                        -1.57453800000,
                        47.20521900000
                    ],
                    [
                        -1.57442600000,
                        47.20533100000
                    ],
                    [
                        -1.57416100000,
                        47.20558200000
                    ],
                    [
                        -1.57410900000,
                        47.20563400000
                    ],
                    [
                        -1.57397200000,
                        47.20576500000
                    ],
                    [
                        -1.57382600000,
                        47.20589600000
                    ],
                    [
                        -1.57357300000,
                        47.20613200000
                    ],
                    [
                        -1.57352900000,
                        47.20617700000
                    ],
                    [
                        -1.57334100000,
                        47.20634300000
                    ],
                    [
                        -1.57315200000,
                        47.20649000000
                    ],
                    [
                        -1.57305800000,
                        47.20653300000
                    ],
                    [
                        -1.57296500000,
                        47.20656100000
                    ],
                    [
                        -1.57294500000,
                        47.20656300000
                    ],
                    [
                        -1.57292600000,
                        47.20656600000
                    ],
                    [
                        -1.57290700000,
                        47.20657100000
                    ],
                    [
                        -1.57288900000,
                        47.20657800000
                    ],
                    [
                        -1.57287300000,
                        47.20658500000
                    ],
                    [
                        -1.57285800000,
                        47.20659400000
                    ],
                    [
                        -1.57284600000,
                        47.20660400000
                    ],
                    [
                        -1.57283500000,
                        47.20661400000
                    ],
                    [
                        -1.57282600000,
                        47.20662400000
                    ],
                    [
                        -1.57281900000,
                        47.20663600000
                    ],
                    [
                        -1.57281400000,
                        47.20664700000
                    ],
                    [
                        -1.57281000000,
                        47.20665900000
                    ],
                    [
                        -1.57269400000,
                        47.20673800000
                    ],
                    [
                        -1.57229100000,
                        47.20703600000
                    ],
                    [
                        -1.57221900000,
                        47.20713500000
                    ],
                    [
                        -1.57220600000,
                        47.20713600000
                    ],
                    [
                        -1.57219300000,
                        47.20713800000
                    ],
                    [
                        -1.57218000000,
                        47.20714100000
                    ],
                    [
                        -1.57216700000,
                        47.20714500000
                    ],
                    [
                        -1.57215500000,
                        47.20714900000
                    ],
                    [
                        -1.57214300000,
                        47.20715400000
                    ],
                    [
                        -1.57213200000,
                        47.20715900000
                    ],
                    [
                        -1.57212200000,
                        47.20716500000
                    ],
                    [
                        -1.57211200000,
                        47.20717100000
                    ],
                    [
                        -1.57210300000,
                        47.20717900000
                    ],
                    [
                        -1.57209500000,
                        47.20718600000
                    ],
                    [
                        -1.57208800000,
                        47.20719400000
                    ],
                    [
                        -1.57208200000,
                        47.20720200000
                    ],
                    [
                        -1.57207700000,
                        47.20721100000
                    ],
                    [
                        -1.57207400000,
                        47.20721700000
                    ],
                    [
                        -1.57207100000,
                        47.20722400000
                    ],
                    [
                        -1.57206900000,
                        47.20723000000
                    ],
                    [
                        -1.57206700000,
                        47.20723800000
                    ],
                    [
                        -1.57206700000,
                        47.20724600000
                    ],
                    [
                        -1.57192500000,
                        47.20730100000
                    ],
                    [
                        -1.57125300000,
                        47.20757000000
                    ],
                    [
                        -1.57115400000,
                        47.20760800000
                    ],
                    [
                        -1.57058200000,
                        47.20783100000
                    ],
                    [
                        -1.57018700000,
                        47.20796900000
                    ],
                    [
                        -1.56917800000,
                        47.20830700000
                    ],
                    [
                        -1.56913500000,
                        47.20832200000
                    ],
                    [
                        -1.56898200000,
                        47.20836900000
                    ],
                    [
                        -1.56886300000,
                        47.20840300000
                    ],
                    [
                        -1.56838500000,
                        47.20854100000
                    ],
                    [
                        -1.56801700000,
                        47.20864200000
                    ],
destination
]
}
}]
};
 
// A single point that animates along the route.
// Coordinates are initially set to origin.
var point = {
"type": "FeatureCollection",
"features": [{
"type": "Feature",
"properties": {},
"geometry": {
"type": "Point",
"coordinates": origin
}
}]
};
 
// Calculate the distance in kilometers between route start/end point.
var lineDistance = turf.lineDistance(route.features[0], 'kilometers');
 
var arc = [];
 
// Number of steps to use in the arc and animation, more steps means
// a smoother arc and animation, but too many steps will result in a
// low frame rate
var steps = 500;
 
// Draw an arc between the `origin` & `destination` of the two points
for (var i = 0; i < lineDistance; i += lineDistance / steps) {
var segment = turf.along(route.features[0], i, 'kilometers');
arc.push(segment.geometry.coordinates);
}
 
// Update the route with calculated arc coordinates
route.features[0].geometry.coordinates = arc;
 
// Used to increment the value of the point measurement against the route.
var counter = 0;
 
map.on('load', function () {
// Add a source and layer displaying a point which will be animated in a circle.
map.addSource('route', {
"type": "geojson",
"data": route
});
 
map.addSource('point', {
"type": "geojson",
"data": point
});
 
map.addLayer({
"id": "route",
"source": "route",
"type": "line",
"paint": {
"line-width": 2,
"line-color": "#007cbf"
}
});
 
map.addLayer({
"id": "point",
"source": "point",
"type": "symbol",
"layout": {
"icon-image": 'bicycle-15',
"icon-size": 2,
"icon-rotation-alignment": "map",
"icon-allow-overlap": true,
"icon-ignore-placement": true
}
});
 
function animate() {
// Update point geometry to a new position based on counter denoting
// the index to access the arc.
point.features[0].geometry.coordinates = route.features[0].geometry.coordinates[counter];
 
// Calculate the bearing to ensure the icon is rotated to match the route arc
// The bearing is calculate between the current point and the next point, except
// at the end of the arc use the previous point and the current point
point.features[0].properties.bearing = turf.bearing(
turf.point(route.features[0].geometry.coordinates[counter >= steps ? counter - 1 : counter]),
turf.point(route.features[0].geometry.coordinates[counter >= steps ? counter : counter + 1])
);
 
// Update the source with this new data.
map.getSource('point').setData(point);
 
// Request the next frame of animation so long the end has not been reached.
if (counter < steps) {
requestAnimationFrame(animate);
}
 
counter = counter + 1;
}
 
document.getElementById('replay').addEventListener('click', function() {
// Set the coordinates of the original point back to origin
point.features[0].geometry.coordinates = origin;
 
// Update the source layer
map.getSource('point').setData(point);
 
// Reset the counter
counter = 0;
 
// Restart the animation.
animate(counter);
});
 
// Start the animation.
animate(counter);
});



var flybtn = document.getElementById('fly');
    flybtn.addEventListener('click', flyFunction);
    flybtn.addEventListener('click', changeFunction);
    var arrival = [-1.555181, 47.157465];
    var index = 0
    var flyzoom = 16;
    var flypitch = 60;
    function flyFunction(){
        map.flyTo({
            center: arrival, //first
            zoom:flyzoom,
            pitch: flypitch,
            bearing:0
            });
        };
    function changeFunction(){
        if (index < 1) {
        arrival = [-1.55294, 47.15864];
        flyzoom = 11;
        flypitch = 0;
        index = 1;
        flybtn.innerHTML = "Revenir à la carte globale";
        }else{
        arrival = [-1.553008, 47.158074];
        index = 0
        flyzoom = 16;
        flypitch = 60;
        flybtn.innerHTML= "Zoom sur le site du MiN de Nantes";
        }
        };



</script>
</body>
</html>
